<!-- BEGIN: Subheader -->
<div class="m-subheader" appunwraptag="">
	<div class="d-flex align-items-center">
		<div class="mr-auto">
			<h3 class="m-subheader__title">
				Mi perfil
			</h3>
		</div>

	</div>
</div>
<!-- END: Subheader -->
<div class="m-content">
	<div class="row">
		<div class="col-xl-3 col-lg-4">
			<div class="m-portlet  m-portlet--rounded">
				<div class="m-portlet__body">
					<div class="m-card-profile">
					
						<div class="m-card-profile__pic">
							<div class="m-card-profile__pic-wrapper">
								<img [src]="user.image" alt="" />
							</div>
						</div>
						<div class="m-card-profile__details">
							<span class="m-card-profile__name " >
								{{user.name}}
							</span>
							<a href="" class="m-card-profile__email m-link">
								{{user.email}}
							</a>
						</div>
					</div>
					<ul class="m-nav m-nav--hover-bg m-portlet-fit--sides">
						<li class="m-nav__separator m-nav__separator--fit"></li>

						<li class="m-nav__item active">
							<a class="m-nav__link ">
								<i class="m-nav__link-icon flaticon-profile-1"></i>
								<span class="m-nav__link-title">
									<span class="m-nav__link-wrap">
										<span class="m-nav__link-text">
											Mi Perfil
										</span>
										<span class="m-nav__link-badge">
											<span class="m-badge ">
												0
											</span>
										</span>
									</span>
								</span>
							</a>
						</li>

					</ul>

				</div>
			</div>
		</div>
		<div class="col-xl-9 col-lg-8">
			<div class="m-portlet m-portlet--full-height m-portlet--tabs   m-portlet--rounded">
				<div class="m-portlet__head">
					<div class="m-portlet__head-tools">
						<ul class="nav nav-tabs m-tabs m-tabs-line   m-tabs-line--left m-tabs-line--nairu" role="tablist">
							<li class="nav-item m-tabs__item">
								<a class="nav-link m-tabs__link active" data-toggle="tab" href="#m_user_profile_tab_1" role="tab">
									<i class="flaticon-share m--hide"></i>
									Actualizar Perfil
								</a>
							</li>
							<li class="nav-item m-tabs__item">
								<a class="nav-link m-tabs__link " data-toggle="tab" href="#m_user_profile_tab_2" role="tab">
									<i class="flaticon-share m--hide"></i>
									Configurar Cuenta </a>
							</li>
						</ul>
					</div>
				</div>
				<div class="tab-content">
					<div class="tab-pane active" id="m_user_profile_tab_1">
						<form class="m-form m-form--fit m-form--label-align-right" [formGroup]="profileForm">
							<div class="m-portlet__body">

								<div class="form-group m-form__group row">
									<div class="col-10 ml-auto">
										<h3 class="m-form__section">
											1. Información Personal
										</h3>
									</div>
								</div>
								<div class="form-group m-form__group row">
									<label for="example-text-input" class="col-sm-5 col-md-3 col-form-label">
										Nombre
									</label>
									<div class="col-sm-4 col-md-4">
										<input class="form-control m-input" type="text" formControlName="name" maxlength="16">
										<span class="m-form__help m--margin-bottom-10">
											El máximo caracteres es 16.
										</span>
									</div>
									<div class="col-sm-4 col-md-5">
										<button [disabled]="loading || profileForm.value.name === user.name || profileForm.value.name == ''" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" type="reset"
											 class="btn btn-action m-btn m-btn--air " (click)="updateProfile(profileForm.value)">
												Cambiar
										</button>
									</div>
								</div>
								<div class="form-group m-form__group row">
									<label for="example-text-input" class="col-sm-5 col-md-3 col-form-label">
										Email
									</label>
									<div class="col-sm-7 col-md-6">
										<input class="form-control m-input" type="text" formControlName="email" style="border: 0px;" readonly>
										<span class="m-form__help">
											Actualizar información básica del usuario.
										</span>
									</div>
								</div>

								<br>
							</div>
							<div class="m-portlet__foot m-portlet__foot--fit">
								<div class="m-form__actions">
						
								</div>
							</div>
						</form>
					</div>

					<div class="tab-pane " id="m_user_profile_tab_2">
						<form class="m-form m-form--fit m-form--label-align-right" [formGroup]="configForm">
							<div class="m-portlet__body">

								<div class="form-group m-form__group row">
									<div class="col-sm-10 ml-auto">
										<h3 class="m-form__section align-items-center">
											1. Contraseña
										</h3>
									</div>
								</div>
								<div class="form-group m-form__group row">

									<label for="example-text-input" class="col-sm-5 col-md-3 col-form-label">
										Ajuste Ingreso
									</label>
									<div class="col-sm-4 col-md-4">
										<input class="form-control m-input" type="text" formControlName="pass" minlength="6">
										<span class="m-form__help m--margin-bottom-10">
											La contraseña debe ser mayor a 6 digitos.
										</span>

									</div>
									<div class="col-sm-4 col-md-5">

										<button [disabled]="loading || configForm.value.pass == ''" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" type="reset"
										 class="btn btn-action m-btn m-btn--air" (click)="updateUserPassword(configForm.value.pass)">
											Cambiar
										</button>
									</div>


								</div>


								<div class="form-group m-form__group row">
									<div class="col-sm-10 ml-auto">
										<h3 class="m-form__section align-items-center">
											2. Cuenta Usuario
										</h3>
									</div>
								</div>
								<div class="form-group m-form__group row has-danger">

									<label for="example-text-input" class="col-sm-5 col-md-3 col-form-label">
										Suspender cuenta
									</label>
									<div class="col-sm-4 col-md-4">
										<input class="form-control m-input  form-control-danger" type="text" formControlName="delete" >
										<span class="m-form__help m--margin-bottom-10">
											Digite su email para eliminar la cuenta de usuario.
										</span>

									</div>
									<div class="col-sm-4 col-md-5">
										
										<button [disabled]="loading || configForm.value.delete == ''" [ngClass]="{'m-loader m-loader--right m-loader--light': loading}" type="reset"
										 class="btn btn-danger m-btn m-btn--air " (click)="deleteProfile(configForm.value.delete)">
										 &nbsp;Eliminar &nbsp;
										</button>
									</div>


								</div>

							</div>
							<div class="m-portlet__foot m-portlet__foot--fit">
								<div class="m-form__actions">
						
								</div>
							</div>
						</form>
						

					</div>


				</div>
			</div>
		</div>
	</div>
</div>